{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 082773dbd15152aa0786","webpack:///./src/index.js"],"names":["Prismejs","type","config","version","availableReturnTypes","setReturnType","grammar","regex","regexObjectSeparator","regexPropCheck","objectSeperator","propCheck","endValue","includes","returnType","Error","err","console","warn","name","message","log","source","modelObject","formattedData","formatJSON","model","formattedJSON","Array","map","formattedEntity","formatJSONObject","elem","sourceElem","object","prop","formattedProp","formatJSONProp","match","tracePath","split","checkpoints","tracedPath","finalValue","forEach","pathItem","extractPath","push","finalVar","m","exec","buildSource","found","some","item","i","length","replace"],"mappings":"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","file":"prismejs.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"prismejs\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"prismejs\"] = factory();\n\telse\n\t\troot[\"prismejs\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 082773dbd15152aa0786","/** PrismeJS\n* Presentation and transformation layer for complex/dirty API's data output.\n*\n* @author Thomas Brodusch\n* @version  1.0.1\n */\n\nexport class Prismejs {\n    constructor(type = 'json') {\n        this.config = {\n            version: '1.0.5',\n            availableReturnTypes: ['json']\n        };\n\n        this.setReturnType(type);\n        this.grammar = {\n            regex: /\\.|\\:|(\\[.*\\])/g,\n            regexObjectSeparator: /\\./g,\n            regexPropCheck: /(.*?):(.*)(\\[(.*)\\])?/g,\n            objectSeperator: '.', // data['toto']  > data.toto\n            propCheck: ':', // data['toto'] = 'tata' > data.toto:tata\n            endValue: /\\[(.*?)\\]/g // data['toto'].value  > data.toto[tata]\n        };\n    }\n\n    setReturnType(type) {\n        try {\n            if (this.config.availableReturnTypes.includes(type)) {\n                this.returnType = type;\n            } else {\n                throw new Error('InvalidReturnType');\n            }\n        } catch (err) {\n            console.warn(\n                `PrismeJS [ ${err.name}: ${err.message} ] — \"${type}\"\" is an invalid return type. Please set an available return type.`\n            );\n            console.log(\n                `PrismeJS — Available return types : ${this\n                    .availableReturnTypes} `\n            );\n        }\n    }\n\n    format(source, modelObject) {\n        let formattedData;\n        if (this.returnType === 'json') {\n            formattedData = this.formatJSON(source, modelObject);\n        }\n        return formattedData;\n    }\n\n    formatJSON(source, model) {\n        let formattedJSON = {};\n        if (!(source instanceof Array)) {\n            source = [source];\n        }\n        formattedJSON = source.map(elem => {\n            let formattedEntity = {};\n            return this.formatJSONObject(elem, model);\n        });\n        return formattedJSON;\n    }\n\n    formatJSONObject(sourceElem, object) {\n        let formattedEntity = {};\n\n        for (var prop in object) {\n            let formattedProp = this.formatJSONProp(sourceElem, object[prop]);\n            if (formattedProp !== null) {\n                formattedEntity[prop] = formattedProp;\n            }\n        }\n\n        return formattedEntity;\n    }\n\n    formatJSONProp(sourceElem, prop) {\n        let formattedProp = null;\n\n        if (typeof prop === 'string') {\n            formattedProp = sourceElem[prop];\n\n            // Check if current string prop contain Prisme grammar.\n            if (prop.match(this.grammar.regex)) {\n                formattedProp = this.tracePath(\n                    sourceElem,\n                    prop,\n                    prop.split(this.grammar.regexObjectSeparator)\n                );\n            }\n        }\n\n        if (typeof prop === 'object') {\n            formattedProp = this.formatJSONObject(sourceElem, prop);\n        }\n\n        return formattedProp;\n    }\n\n    tracePath(sourceElem, prop, checkpoints) {\n        let tracedPath = [];\n        let finalValue = false;\n\n        checkpoints.forEach(pathItem => {\n            if (pathItem.match(this.grammar.propCheck)) {\n                let extractPath = pathItem.split(this.grammar.propCheck)[0];\n                tracedPath.push(extractPath);\n            } else {\n                tracedPath.push(pathItem);\n            }\n        });\n\n        checkpoints.map(pathItem => {\n            // Check if a prop is equal to something in particular.\n            if (pathItem.match(this.grammar.regexPropCheck)) {\n                // Build path to var.\n                let finalVar = pathItem.split(this.grammar.propCheck);\n                let m = this.grammar.endValue.exec(finalVar[1]);\n                let endValue;\n\n                if (m !== null) {\n                    endValue = m[1];\n                }\n\n                let buildSource = sourceElem;\n                let found = false;\n\n                tracedPath.some(item => {\n                    if (item === finalVar[0]) {\n                        let i = 0;\n                        while (i < buildSource.length || found) {\n                            if (\n                                buildSource[i][item] ===\n                                finalVar[1].replace(this.grammar.endValue, '')\n                            ) {\n                                if (endValue) {\n                                    return (finalValue =\n                                        buildSource[i][endValue]);\n                                } else {\n                                    return (finalValue = buildSource[i]);\n                                }\n                            }\n                            i++;\n                        }\n                    }\n\n                    buildSource = buildSource[item];\n                });\n            } else if (pathItem.match(this.grammar.endValue)) {\n                let m = this.grammar.endValue.exec(pathItem);\n                finalValue = sourceElem[pathItem.replace(m[0], '')][m[1]];\n            }\n        });\n        return finalValue;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js"],"sourceRoot":""}